<!-- ngNativeValidate -->

<div class="wrapper">

    <form class="form" [formGroup]= "myFormGroup"  (submit)="handleSubmit($event)"   >

        <div   class="formGroup" *ngFor="let item of schema.properties ">

         
            
            <!-- STRING -->
           <div *ngIf="item.type == 'string'">
               <label  for="{{item.name}}">{{item.label}}</label>
               <input [formControlName]="item.name" 
                      id="{{item.name}}" 
                      name="{{item.name}}" 
                      [type]="item?.inputType || 'text'" 
                      [placeholder]="item.name"
                      *ngIf="!item.multiline; else textArea"
                      >

                      <ng-template #textArea>
                          <textarea    id="{{item.name}}" name="{{item.name}}" 
                                     id="" cols="30" rows="10"
                                     [formControlName]="item.name" >
                                     
                          </textarea>
                      </ng-template>
           </div>

          
           <!-- NUMBER -->
           <div *ngIf="item.type == 'number'" >
                <label for="{{item.name}}">{{item.label}}</label>
                <input 
                [formControlName]="item.name" 
                id="{{item.name}}" 
                [placeholder]="item.name"
                type="text" 
               >
           </div>
           <!-- ENUM -->
           <div *ngIf="item.type == 'enum'">
               <label for="{{item.name}}">{{item.label}}</label>
               <select [formControlName]="item.name" id="{{item.name}}" name="{{item.name}}" id="">
                   <option value="" selected disabled hidden>Choose here</option>
                   <option *ngFor="let country of item.options" value="{{country.value}}">
                    {{country.label}}
                   </option>
               </select>
           </div>
           <!-- BOOLEAN -->
           <div *ngIf="item.type == 'boolean'">
               <label for="{{item.name}}">{{item.label}}</label>
                <input [formControlName]="item.name" id="{{item.name}}" type="checkbox"  name="{{item.name}}">
           </div>

           <!-- ARRAY -->
          
           <div class="array__set" *ngIf="item.type == 'array'">
                <label for="{{item.name}}">
                {{item.label}}
                </label>
               <div formArrayName="{{item.name}}" >
                   
                    <div *ngFor="let res of getArray(myFormGroup, item.name)['controls']; let i = index">
                        
                        <p>{{ item | log }}</p> 
                            <!-- <div  [formGroupName]="i"  *ngFor="let q of item.item.properties ">
                                <label for="{{q.name}}">{{q.label}}</label>
                                <input   id="{{q.name}}"  name="{{q.name}}" [placeholder]="q.name" >
                            </div>   -->

                    </div>
               </div>
           </div>
         
           <!-- OBJECT -->
           <div  *ngIf="item.type == 'object'">
               <div formGroupName="{{item.name}}">
                 <label for="">{{item.label}}</label>
                    <div *ngFor="let item of item.properties">
                         <input  [formControlName]="item.name"   type="text" [placeholder]="item.name">
                    </div>
               </div>
           </div>
        </div>
    
    
       
        <button  type="submit" >submit</button> 
     <!-- [disabled]="!myFormGroup.valid" -->
    </form>
    <pre >{{ this.myFormGroup.value | json }}</pre>
    


</div>






